# 📚 스터디 템플릿

## 📖 1. 목차를 읽기 전에 든 생각
- 음.. 전자지갑? 네이버 페이, 토스 페이 같은 것을 의미하는 건가?
- 궁금해서 잠깐 봤더니 서로 다른 계좌 간의 이체의 과정이다.
- 하나의 단일 트랜잭션에서 모든 계좌의 흐름을 처리 하는 것은 쉽지 않다. 동일한 서비스라면 동일한 서비스 내에서 단일 트랜잭션으로 정합성을 보장 할 수 있으나, 만약 다른 서버에 올라가있는 별개의 계좌라면 이미 분산 트랜잭션이 되어버린다.
- 이러한, 분산 트랜잭션에 상황 속에서 계좌 간의 흐름에서 어떻게 정합성을 유지 할 것인가에 대한 방법이 주된 내용을 이룰 것 같다. 

## 📝 2. 내용 정리
- 한 번만 더 읽고 다시 정리해볼게요. 

## 💡 3. 전부 읽고 난 후기
- 실제로 은행의 계정계 시스템에서 처리해야 될 내용들을 많이 볼 수 있었다. 해당 내용은 은행에서 기술 면접을 본다면 다뤄야 할 내용들이라고 생각한다.
- 분명히 많이 들어본 단어들이지만 뭔가 부족하게 부분이 많은 듯 하다. 이벤트 소싱에서 막히는 부분이 있어서 잘 읽히지 않았던 것 같다.

## ❓ 4. 특별히 궁금했던 부분
- 보상 트랜잭션을 처리하는 경우에 단 건 필드 같은 경우는 보상 트랜잭션을 처리하기 위한 API를 작성하기가 용이합니다. 그러나, 실제로 PUT 업데이트를 하는 경우에는 업데이트 되기 이전에 상태 값으로 되돌아가야하는데 이런 경우에는 보상 트랜잭션을 어떻게 발행 할 수 있을까요?
  - 생성된 건 delete를 보내면 되지만, 업데이트의 경우는 client 입장에서 변경되기 이전에 client의 상태를 알고 다시 PUT 요청을 보내야 할텐데... 그럼 업데이트 요청을 하기 전에 해당 key 값에 대한 데이터를 알고 있어야 하니 조회를 필수적으로 해야겠네요..
  - 혹은, 업데이트 시 업데이트 이전의 데이터를 클라이언트에게 전달드려야 하는데 이건 통신 목적에 맞지 않는 것 같아요. 다른 방법이 떠오르는게 있나요?
