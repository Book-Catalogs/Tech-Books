# 📚 스터디 템플릿

## 📖 1. 목차를 읽기 전에 든 생각
- 한국 사람이 유럽 지도를 빨리 조회할 수 있는 이유에 대해서 종운햄이 예고편을 던져서 궁금하다

## 📝 2. 내용 정리

### 1단계 비즈니스 분석
- 정확한 정보 전달
- 화면에 부드럽게 표시되고 갱신 되어야 한다.
- 데이터를 덜 사용해야 한다.
- 가용성 확보해야한다.
---
- 데이터를 노드(점)과 선으로 표현한다.
- 이런 경로를 타일로 분할하면 메모리 요구량을 낮추고 한번에 처리하는 경로의 양이 줄어든다.
- 타일의 수준을 나눈다. 지방도, 시내 도로, 고속도로 수준 
- 경로 안내, 위치 개싱 요청을 고려한 설꼐가 필요하다

### 2단계 개략적 설계

#### 실시간 위치 전송의 장점
- 주기적으로 정보를 전송할 수 있다. -> 매번 보내면 그러니 버퍼링을 통해서 전송 빈도를 줄일 수 있다.
- 성능을 감당하기 위해선 casandra, kafka 와 같은 엔진을 사용
- 모든 지도 데이터를 가지고 있기 보다 클라이언트가 보는 확대 수준에 따라 필요한 타일을 서버에서 가져오기
  - 모든 타일을 동적으로 만들기 어려움
  - 캐싱 어려움
- 클라이언트가 계산하기 보다 위경도 수준의 확대 수준을 타일 Url로 변경하는 알고리즘 구현을 별돌 서비스화

### 3단계 상세 설계
- 경로 안내 타일을 S3 같은 객체 저장소에 저장
- 쓰기 연산에 탁월한 서비스 (실시간 위치 정보 업데이트를 위해) : casandra
---
사용장 위치를 카프카에 공유
- 실시간 교통 상황 서비스 -> 실시간 고툥랑 갱신 
- 개인화를 위한 기계학습 서비스
- 경로 안내 타일 처리 서비스
- 분석 서비스
--- 
최단거리 안내 서비스
- 도로 상황은 고려하지 않음, 단순히 거리로만 (거리를 캐싱한다.)
- 필요한 주변 타일은 객체 저장소에서 가져온다.
예상 도착시간 서비스
- 기계학습으로 도로 상황 및 교통량 예측
- 데이터 스트림을 구독하다고 중요 데이터를 비동기로 업데이트한다.

## 💡 3. 전부 읽고 난 후기
- HTTP Keep-Alive dhqtus
- 분할 내성?
- 적응ㅇ형 ETA와 경로 변경 106p 107p 이해가 잘..? 왜 효율적인가?
- 생각보다 어려워지긴 했다..

## ❓ 4. 특별히 궁금했던 부분
- 만약에 사용자가 네비를 켰다면, 시속 신호등 여부 등으로 미래의 위치를 파악해서 버퍼링 이후에 위치정보가 등록되어도 괜찮지 않을까
- (ex : 경로이탈시에도 잘 가는줄 알다가 위치를 뒤늦게 파악하는 등)
- 카산드라에 대해 아시는 분
- 지도데이터가 변하게 되면 원래는 캐싱을 해두는게 좋겠지만, 이벤트에 따라서 데이터를 변경하는게 좋은건가?
  - ex 우리집 주변 길찾기 서비스 업데이트 1주일 걸림
- 캐싱의 수준..?
