# 📚 스터디 템플릿

## 📖 목차를 읽기 전에 든 생각
- 도커의 구성 요소와 동작 방식을 이해하고 싶다.

## 📝 내용 정리
### 운영체제
- 개념: 사용자의 하드웨어, 시스템 리소스를 제어하고 프로그램에 대한 일반적 서비스를 지원하는 시스템 소프트웨어이다. 컴퓨터 하드웨어를 관리할 뿐 아니라 응용 소프트웨어를 실행하기 위하여 하드웨어 추상화 플랫폼과 공통 시스템 서비스를 제공한다.
- 컴퓨터 시스템 구성: 하드웨어 ↔ 운영체제 ↔ 셸 / 응용 프로그램 ↔ 사용자
  - 셸은 사용자가 시스템을 운용할 수 있게끔 해주는 기본적인 응용 프로그램이다. 이런 셸의 행동들은 결국 운영체제에 명령을 내리는 일이 된다. bash 등의 이러한 셸은 그러나 엄밀히 운영체제의 일부가 아니며 운영체제 입장에서는 셸이나 필수 유틸리티들이나 모두 응용 프로그램일뿐 구별하지 않는다. 다만 이러한 구분은 사용자의 입장에서 필수적인 응용 프로그램이라는 뜻이다.
- 구성 요소: 운영체제는 커널과 그 외 라이브러리로 나뉘어진다.
  - 커널: 커널은 모든 컴퓨터 하드웨어 장치에 대한 가장 기초 수준의 제어권을 제공한다.
    <img src="https://github.com/user-attachments/assets/abb06ea3-fa0b-4b49-b020-48e6fbb2ebee" width="50%"/>

### 프로그램, 프로세스, 스레드
- 프로그램과 프로세스: 프로그램은 일반적으로 하드 디스크 등에 저장되어 있는 실행코드를 뜻하고, 프로세스는 프로그램을 구동하여 프로그램 자체와 프로그램의 상태가 메모리 상에서 실행되는 작업 단위를 지칭한다. 예를 들어, 하나의 프로그램을 여러 번 구동하면 여러 개의 프로세스가 메모리 상에서 실행된다.
- 스레드: 스레드(thread)는 어떠한 프로그램 내에서, 특히 프로세스 내에서 실행되는 흐름의 단위를 말한다. 일반적으로 한 프로그램은 하나의 스레드를 가지고 있지만, 프로그램 환경에 따라 둘 이상의 스레드를 동시에 실행할 수 있다. 이러한 실행 방식을 멀티스레드(multithread)라고 한다.
- 멀티프로세스 vs 멀티스레드: 멀티프로세스와 멀티스레드는 양쪽 모두 여러 흐름이 동시에 진행된다는 공통점을 가지고 있다. 하지만 멀티프로세스에서 각 프로세스는 독립적으로 실행되며 각각 별개의 메모리를 차지하고 있는 것과 달리 멀티스레드는 프로세스 내의 메모리를 공유해 사용할 수 있다. 또한 프로세스 간의 전환 속도보다 스레드 간의 전환 속도가 빠르다.

### 가상화
- 개념: 가상화란 컴퓨터에서 활용하는 리소스를 추상화하는 개념을 의미하는 용어. 가상화 개념을 활용해 여러 개의 가상머신을 생성함으로써. 단일 컴퓨팅 자원을 여러 개의 논리적인 자원으로 나누어 동작시킬 수 있다.
- 하이퍼바이저: 단일 물리적 머신에서 여러 가상 머신을 실행하는 데 사용할 수 있는 소프트웨어
- 컨테이너: 애플리케이션 코드를 라이브러리 및 종속성과 함께 패키징하는 소프트웨어의 실행 단위
- 가상화 종류
  - 호스트 가상화: 운영체제를 설피한 후 하이퍼바이저를 통해 가상머신을 만들고 각 가상머신 내부에는 게스트 운영체제 설치
    
    <img src="https://github.com/user-attachments/assets/4669c370-b0f8-471e-89d0-11cd3b127ff4" width="50%"/>
  - 하이퍼바이저 가상화: 호스트 가상화와 달리 호스트 운영체제를 필요로 하지 않는 방식

    <img src="https://github.com/user-attachments/assets/4e90666f-aab4-49a6-a4a7-38b0fa48b024" width="50%"/>
  - 컨테이너 가상화: 운영체제 위에 컨테이너를 운영하기 위해 필요한 도커를 설치한 후 다수의 컨테이너를 통해 애플리케이션을 실행하는 방식
    
    <img src="https://github.com/user-attachments/assets/ae95cd40-5a64-4695-8261-2022d2999dbe" width="50%"/>

### 도커
- 개념: Docker는 컨테이너라고 하는 느슨하게 격리된 환경에서 애플리케이션을 패키징하고 실행할 수 있는 기능을 제공한다. 격리 및 보안을 통해 주어진 호스트에서 여러 컨테이너를 동시에 실행할 수 있다. 컨테이너는 가볍고 애플리케이션을 실행하는 데 필요한 모든 것을 포함하므로 호스트에 설치된 것에 의존할 필요가 없다.
- 아키텍처

  <img src="https://github.com/user-attachments/assets/1d57f2dc-4c08-49c4-a393-f42bb5817171" width="50%"/>

  - Docker 클라이언트: docker run과 같은 명령을 사용하면 클라이언트가 이러한 명령을 dockerd로 보내면 이 명령이 실행된다. docker 명령은 Docker API를 사용한다. Docker 클라이언트는 둘 이상의 데몬과 통신할 수 있다.
  - Docker 데몬: 도커 API 요청을 수신하고 이미지, 컨테이너, 네트워크, 볼륨과 같은 도커 오브젝트를 관리한다. 또한 데몬은 다른 데몬과 통신하여 Docker 서비스를 관리할 수 있다.
  - Docker 레지스트리: Docker 이미지를 저장한다. Docker Hub는 누구나 사용할 수 있는 공개 레지스트리이며 Docker는 기본적으로 Docker Hub에서 이미지를 찾는다.
  - Docker 객체:
    - 이미지: Docker 컨테이너를 만드는 방법에 대한 지침이 포함된 읽기 전용 템플릿
    - 컨테이너: 이미지의 실행 가능한 인스턴스
  
  <img src="https://github.com/user-attachments/assets/cbc83370-19fe-45d6-b0c8-98a6ada8774c" width="50%"/>

  - containerd: 컨테이너 실행과 관리에 필요한 기능을 수행하는 오픈소스 컨테이너 런타임. 컨테이너의 생명주기(도커 이미지 전송, 컨테이너 실행, 스토리지, 네트워크)를 모두 관리
  - runc: 컨테이너 실행과 관련된 작업을 수행하는 저수준 컨테이너 런타임
  - containerd-shim: containerd와 runc 사이에서 작동하는 중간 프로세스에 해당하는데, 컨테이너 실행을 조정하는 역할


## 💡 전부 읽고 난 후기
- 가상화의 종류에 대해서 헷갈렸는데 이번에 이해할 수 있었다.
- 이번 장은 도커를 학습하기 위한 간단한 개념을 학습한 기분이라 크게 어렵진 않았다.
- 도커 공식 문서에서 말하는 도커의 아키텍처와 책에서 말하는 구성 요소랑 설명하는 방식이 달라서 약간 헷갈린다.

## ❓ 특별히 궁금했던 부분
- 읽으면서 생겼던 의문이나 더 탐구하고 싶은 부분을 정리합니다.
- 팀원들과 논의하고 싶은 내용을 포함해도 좋습니다.

## ⏳ 독서 과정 기록
- **총 독서 시간**: 1시간 10분

## 🤔 이해도 점검 & 난이도 평가
- **어려웠던 부분 & 이유**: 개념 부족
  - 하이퍼바이저
    - 단일 물리적 머신에서 여러 가상 머신을 실행하는 데 사용할 수 있는 소프트웨어
  - 가상화 종류
    - 호스트 가상화: 운영체제를 설피한 후 하이퍼바이저를 통해 가상머신을 만들고 각 가상머신 내부에는 게스트 운영체제 설치
    - 하이퍼바이저 가상화: 호스트 가상화와 달리 호스트 운영체제를 필요로 하지 않는 방식
    - 컨테이너 가상화: 운영체제 위에 컨테이너를 운영하기 위해 필요한 도커를 설치한 후 다수의 컨테이너를 통해 애플리케이션을 실행하는 방식

- **자신의 이해도를 점수로 표현하기 (5점 만점)**
  - Chapter 2: ⭐⭐⭐⭐☆ (4/5)

- **특별하게 깨달음을 얻은 부분**
  - 하이퍼바이저를 통한 가상화와 컨테이너를 통한 가상화의 차이를 조금 알 것 같다. 하이퍼바이저를 통한 가상화는 하드웨어 가상화로 자원을 공유하는 형태이고, 컨테이너를 통한 가상화는 운영체제와 바이너리/라이브러리를 공유하며 상대적으로 가볍다.
