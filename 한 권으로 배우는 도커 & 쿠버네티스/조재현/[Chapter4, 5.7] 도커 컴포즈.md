# 📚 스터디 템플릿

## 📖 1. 목차를 읽기 전에 든 생각
- 잊어버렸던 내용들을 찾아가자... 다시 처음부터 공부한다는 마음 가짐을 갖게 되네요

## 📝 2. 내용 정리

### 정의들
<table>
<tr>
    <td>단어</td>
    <td>정의</td>
</tr>
<tr>
    <td>도커 이미지</td>
    <td>컨테이너 형태로 소프트웨어를 배포하기 위해 필요한 요소를 실행할 수 있는 형식 (컴파일 및 빌드한 패키지)</td>
</tr>
<tr>
    <td>도커 컨테이너</td>
    <td>도커 이미지로부터 생성된 인스턴스. 실행 중지 삭제 등의 명령을 내릴 수 있음<br>
        자체적으로 파일 시스템을 가지고 있음<br>
        컨테이너는 도커 엔진이 서맃된 호스트 운영체제를 이용하기 때문에. 바이너리, 라이브러리로 이루어져있음<br>
        그래서 컨테이너는 운영체제를 완전히 탑재하지 않았기 때문에 가볍다!
    </td>
</tr>
<tr>
    <td>도커 컴포즈</td>
    <td>하나의 컨테이너를 사용하는 데에도 많은 옵션을 사용하기 떄문에 이떄 사용하는게 도커 컴포즈<br>
        도커를 활용해 다양한 어플리케이션을 실행할 수 있는 도구
    </td>
</tr>
</table>

### 이미지
- 이미지 1개 - 메니페스트 집합 - 각 메니페스트는 레이어를 의미
- 이미지 메니페스트 : 설정 파일 config 등의 정보를 담고 있음

### 명령어
- docker image pull {이미지이름 : 태그 이름}
- docker container ls
- docker container -it ubuntu : 컨테이너 내부를 보기 위한 명령어 (i는 interactive의 줄임말)
- exit / docker container stop {컨테이너 id} : 도커 나가기
- docker container rm {컨테이너id} : 컨테이너 삭제
- docker image rm {이미지 id} : 이미지 삭제
- docker container commit {기존 컨테이너} {이미지이름 : 태그} : 컨테이너를 새로운 이미지로 저장 
- docker container create + docker container start = docker container run
- docker container exec : 실행중인 컨테이너 내부 명령어 실행, attach  :실행중인 컨테이너 표준 입력, 출력, 오류 스트림 연결
- ifconfig
- docker network ls : 도커 네트워크
- docker container cp {출발 경로} {도착 경로} 로 컨테이너 내부로 파일 복사
- docker container run --name {컨테이너 이름} -e {환경변수 설정 : ex db 비밀번호} -d
- 바로 위 명렁어 + --mount type=volumne,source={이름},target={경로} (쉼표뒤 띄어쓰기를 하지 않는다.) 
- docker compose up -d --build : 컴포즈 실행
- docker compose down : 컴포즈 종료

### 도커 호스트와 컨테이너 간 네트워크 구조
- 컨테이너 내부는 자체적으로 eth0인터페이스를 자고 있음
- 도커 호스트도 docker0, enp0s3, veth007a900이라는 인터페이스를 가지고 있음
- docker0  : 도커 설치시 설치된 인터페이스로 호스트와 컨테이너를 연결하는 다리 역할을 한다. 
  - 컨테이너 실행 시, veth 라는 가상 인터페이스가 컨테이너 내부의 eth0과 docker0을 연결시켜 준다.
- enp0s3 : 도커 호스트 자체적으로 가지고 이쓴ㄴ 네트워크 인터페이스

### 네트워크
- bridge 드라이버 : 컨테이너 생성시 제공됨. docker0와 바인딩 된다. 컨테이너를 생성하면 기본적으로 생성되어 연결됨
- host 드라이버 : 컨테이너 자체적으로 네트워크 인터페이스를 가지지 않고 호스트 네트워크 인터페이스를 공유 -> 호스트 방식을 의미하나?
- none 드라이버 : 컨테이너가 인터페이스를 가지지 않아 외부와 통신하지 않음

### 파일을 주고받는 방법
- 이런 네트워크를 통해서 호스트와 컨테이너 간에 파일을 주고받기도 가능함
- docker container cp {출발 경로} {도착 경로} 로 컨테이너 내부로 파일 복사

### 도커 스토리지
- 컨테이너가 삭제되면 컨테이너 내부 존재 파일도 사라진다. 이를 유지학 위해 도커 스토리지 활용
- volume:  도커를 활용해 볼륨을 생성하고 컨테이너 디렉토리와 공유한다.
  - 도커 컨테이너가 삭제되어도 데이터를 유지할 수 있도록 도와주는 저장
- bind mount : 도커 호스트 디렉토리를 직접 공유
  - 도커 호스트 디렉토리와 컨테이너 디렉토리를 연결해 데이터를 보관
- tmpfs : 도커 호스트 메모리에 파일을 저장. 당연히 컨테이너가 사라지면 파일도 사라짐
  - 데이터를 일시적으로 메모리에 저장하고 싶을 때 사용. 컨테이너간 데이터 공유를 지원하지 않는다.

## 💡 3. 전부 읽고 난 후기
- 컨테이너의 정보를 호스트와 공유한다는 생각 자체를 안해봤는데, 생각보다 잘 되어있었다는 느낌을 받았다
- 

## ❓ 4. 특별히 궁금했던 부분
1. 회사에서도 버전을 다르게 해서 배포하고 있는 경우가 있나요? 
2. 이미지 메니페스트의 레이어?
3. 컨테이너간 데이터 공유 방법(스토리지)

## ⏳ 독서 과정 기록
- **총 독서 시간**: 2시간 20분

## 🤔 이해도 점검 & 난이도 평가
- **어려웠던 부분 & 이유**:
  - 애매하게 알고 있었던 내용을 정리해가는 느낌이어서 즐겁게 복습할 수 있었다.

- **자신의 이해도를 점수로 표현하기 (5점 만점)**
  - Chapter 2: ⭐⭐⭐⭐ (4/5)

- **특별하게 깨달음을 얻은 부분**
  - 컨테이너, 이미지의 개념을 확실히 잡아가는 듯
  - 도커의 호스트라는 개념을 저렇게 알고 파일을 공유해나갈 수 있따는 점이 기존 VM과 비교했을 때 굉장히 유익했음(scp라는 명령어로 전송하는 것으로 알음)